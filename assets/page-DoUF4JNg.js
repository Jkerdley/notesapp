import{d as m,r as _,j as e,L as v,u as y,a as w,O as b}from"./index-C1rp22n_.js";import{u as f,i as P,d as T,s as B,a as S,b as I,c as D,g as L,C as k,T as W,e as A,f as F}from"./TextField-BfpkVEyc.js";const z=(t="")=>{const s=f(()=>m.getAllNotes(),[]),a=f(async()=>s?t?await m.searchNotes(t):s:[],[t,s]);return{notes:a||[],isLoading:!a}},E=t=>{var o;const s={systemProps:{},otherProps:{}},a=((o=t==null?void 0:t.theme)==null?void 0:o.unstable_sxConfig)??T;return Object.keys(t).forEach(n=>{a[n]?s.systemProps[n]=t[n]:s.otherProps[n]=t[n]}),s};function G(t){const{sx:s,...a}=t,{systemProps:o,otherProps:n}=E(a);let i;return Array.isArray(s)?i=[o,...s]:typeof s=="function"?i=(...r)=>{const c=s(...r);return P(c)?{...o,...c}:o}:i={...o,...s},{...n,sx:i}}function $(t={}){const{themeId:s,defaultTheme:a,defaultClassName:o="MuiBox-root",generateClassName:n}=t,i=B("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(S);return _.forwardRef(function(C,N){const u=I(a),{className:j,component:p="div",...g}=G(C);return e.jsx(i,{as:p,ref:N,className:D(j,n?n(o):o),theme:s&&u[s]||u,...g})})}const q=L("MuiBox",["root"]),O=A(),M=$({themeId:W,defaultTheme:O,defaultClassName:q.root,generateClassName:k.generate}),R="_emptySelection_x02rw_1",V="_noteDetailContainer_x02rw_21",H="_notesPage_x02rw_37",Q="_notesGrid_x02rw_51",U="_notesListContainer_x02rw_69",d={emptySelection:R,noteDetailContainer:V,notesPage:H,notesGrid:Q,notesListContainer:U},J="_addNoteCard_1q5dn_1",K="_addButton_1q5dn_47",X="_addText_1q5dn_59",Y="_buttonWrapper_1q5dn_73",x={addNoteCard:J,addButton:K,addText:X,buttonWrapper:Y},h=({onClick:t})=>e.jsx("div",{onClick:t,className:x.buttonWrapper,children:e.jsxs("div",{className:x.addNoteCard,children:[e.jsx("div",{className:x.addButton,children:"+"}),e.jsx("div",{className:x.addText,children:"Добавить заметку"})]})}),Z="_basicTextField_7pihp_1",ee={basicTextField:Z};function te({onInputChange:t}){const[s,a]=_.useState(""),o=n=>{a(n.target.value),t(n.target.value)};return e.jsx("div",{className:ee.basicTextField,children:e.jsx(M,{component:"form",sx:{"& > :not(style)":{m:0,width:"17.5vw",bgcolor:"#f4f7fa"}},noValidate:!0,autoComplete:"off",children:e.jsx(F,{value:s,onChange:o,id:"outlined-basic",label:"Поиск",variant:"outlined"})})})}const se="_noteCard_5zowm_1",ne="_infoContainer_5zowm_35",ae="_noteDescription_5zowm_81",oe="_noteInfo_5zowm_99",ie="_linkWrapper_5zowm_121",l={noteCard:se,infoContainer:ne,noteDescription:ae,noteInfo:oe,linkWrapper:ie},re=({note:t,link:s,isAddButton:a})=>e.jsx(v,{to:s,className:l.linkWrapper,children:a?e.jsx(h,{}):e.jsx("article",{className:l.noteCard,children:e.jsxs("div",{className:l.infoContainer,children:[e.jsx("p",{children:t==null?void 0:t.title}),e.jsx("div",{className:l.noteInfo,children:e.jsx("p",{className:l.noteDescription,children:t==null?void 0:t.content})})]})})}),le=()=>{const t=y(),{id:s}=w(),[a,o]=_.useState(""),{notes:n}=z(a),i=async()=>{const r=await m.addNote({title:"Заголовок заметки",content:"Текст заметки",tags:["Тэг заметки"],createdAt:new Date,updatedAt:new Date});t(`/notes/${r}`)};return e.jsx("div",{className:d.notesPage,children:e.jsxs("div",{className:d.notesGrid,children:[e.jsxs("div",{className:d.notesListContainer,children:[e.jsx(te,{onInputChange:o}),e.jsx("div",{className:d.notesListContent,children:n==null?void 0:n.map(r=>e.jsx(re,{note:r,link:`/notes/${r.id}`},r.id))}),e.jsx(h,{onClick:i})]}),e.jsx("div",{className:d.noteDetailContainer,children:s?e.jsx(b,{}):e.jsxs("div",{className:d.emptySelection,children:[e.jsx("h2",{children:"Выберите заметку"}),e.jsx("p",{children:"Слева выберите заметку для просмотра деталей"}),e.jsx(h,{onClick:i})]})})]})})};export{le as NotesPage};
